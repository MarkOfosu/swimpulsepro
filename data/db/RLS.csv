|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| schemaname | tablename        | policyname                                              | permissive | roles           | cmd    | qual                                                                                                                                                                                                                                                           | with_check                                                                                                                                                                                                                                                     |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | profiles         | User can view their own profile                         | PERMISSIVE | {public}        | SELECT | (auth.uid() = id)                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | profiles         | User can create their own profile                       | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (auth.uid() = id)                                                                                                                                                                                                                                              |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | profiles         | User can update their own profile                       | PERMISSIVE | {public}        | UPDATE | (auth.uid() = id)                                                                                                                                                                                                                                              | (auth.uid() = id)                                                                                                                                                                                                                                              |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | profiles         | User can delete their own profile                       | PERMISSIVE | {public}        | DELETE | (auth.uid() = id)                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | coaches          | Coaches can view their own profile                      | PERMISSIVE | {authenticated} | SELECT | (user_id = auth.uid())                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | coaches          | Coaches can insert their own profile                    | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (user_id = auth.uid())                                                                                                                                                                                                                                         |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | coaches          | Coaches can update their own profile                    | PERMISSIVE | {authenticated} | UPDATE | (user_id = auth.uid())                                                                                                                                                                                                                                         | (user_id = auth.uid())                                                                                                                                                                                                                                         |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | coaches          | Coaches can delete their own profile                    | PERMISSIVE | {authenticated} | DELETE | (user_id = auth.uid())                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | teams            | Coaches can view their own team data                    | PERMISSIVE | {authenticated} | SELECT | (EXISTS ( SELECT 1\n   FROM coaches\n  WHERE ((coaches.user_id = auth.uid()) AND (coaches.team_id = teams.id))))                                                                                                                                               |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | teams            | Coaches can insert their own team data                  | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (admin_id = auth.uid())                                                                                                                                                                                                                                        |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | teams            | Coaches can update their own team data                  | PERMISSIVE | {authenticated} | UPDATE | (admin_id = auth.uid())                                                                                                                                                                                                                                        | (admin_id = auth.uid())                                                                                                                                                                                                                                        |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | teams            | Coaches can delete their own team data                  | PERMISSIVE | {authenticated} | DELETE | (admin_id = auth.uid())                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swimmers         | Swimmers can view their own data                        | PERMISSIVE | {authenticated} | SELECT | (user_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swim_groups      | Coaches can view their own swim groups                  | PERMISSIVE | {authenticated} | SELECT | (coach_id = auth.uid())                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swim_groups      | Coaches can delete their own swim groups                | PERMISSIVE | {authenticated} | DELETE | (coach_id = auth.uid())                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swimmers         | Swimmers can create their profile                       | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (user_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                        |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swimmers         | Swimmers can update their profile                       | PERMISSIVE | {authenticated} | UPDATE | (user_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                        | (user_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                        |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swimmers         | Swimmers can delete their profile                       | PERMISSIVE | {authenticated} | DELETE | (user_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swimmers         | Coaches can view swimmers in their swim groups          | PERMISSIVE | {authenticated} | SELECT | (group_id IN ( SELECT swim_groups.id\n   FROM swim_groups\n  WHERE (swim_groups.coach_id = ( SELECT auth.uid() AS uid))))                                                                                                                                      |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | workouts         | Coaches can view their own workouts                     | PERMISSIVE | {authenticated} | SELECT | (coach_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | workouts         | Coaches can create workouts                             | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (coach_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                       |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | workouts         | Coaches can update their own workouts                   | PERMISSIVE | {authenticated} | UPDATE | (coach_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                       | (coach_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                       |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | workouts         | Coaches can delete their own workouts                   | PERMISSIVE | {authenticated} | DELETE | (coach_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | workouts         | Swimmers can view workouts of their own group           | PERMISSIVE | {authenticated} | SELECT | (group_id IN ( SELECT swimmers.group_id\n   FROM swimmers\n  WHERE (swimmers.user_id = ( SELECT auth.uid() AS uid))))                                                                                                                                          |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | ai_training_data | Coaches can view their own AI training data             | PERMISSIVE | {authenticated} | SELECT | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((ai_training_data.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                     |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | ai_training_data | Coaches can insert AI training data for their own group | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((ai_training_data.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                     |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | ai_training_data | Coaches can update their own AI training data           | PERMISSIVE | {authenticated} | UPDATE | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((ai_training_data.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                     | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((ai_training_data.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                     |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | ai_training_data | Coaches can delete their own AI training data           | PERMISSIVE | {authenticated} | DELETE | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((ai_training_data.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                     |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metrics          | Coaches can view their own group's metrics              | PERMISSIVE | {authenticated} | SELECT | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((metrics.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                              |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metrics          | Coaches can insert metrics for their own group          | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((metrics.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                              |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metrics          | Coaches can update their own group's metrics            | PERMISSIVE | {authenticated} | UPDATE | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((metrics.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                              | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((metrics.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                              |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metrics          | Coaches can delete their own group's metrics            | PERMISSIVE | {authenticated} | DELETE | (EXISTS ( SELECT 1\n   FROM swim_groups\n  WHERE ((metrics.group_id = swim_groups.id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))                                                                                                              |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metrics          | Swimmers can view their group's metrics                 | PERMISSIVE | {authenticated} | SELECT | (EXISTS ( SELECT 1\n   FROM swimmers\n  WHERE ((swimmers.group_id = metrics.group_id) AND (swimmers.user_id = ( SELECT auth.uid() AS uid)))))                                                                                                                  |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metric_results   | Coaches can view their own metric results               | PERMISSIVE | {authenticated} | SELECT | (EXISTS ( SELECT 1\n   FROM metrics\n  WHERE ((metric_results.metric_id = metrics.id) AND (EXISTS ( SELECT 1\n           FROM swim_groups\n          WHERE ((swim_groups.id = metrics.group_id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))))) |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metric_results   | Coaches can insert metric results for their metrics     | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (EXISTS ( SELECT 1\n   FROM metrics\n  WHERE ((metric_results.metric_id = metrics.id) AND (EXISTS ( SELECT 1\n           FROM swim_groups\n          WHERE ((swim_groups.id = metrics.group_id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))))) |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metric_results   | Coaches can update their own metric results             | PERMISSIVE | {authenticated} | UPDATE | (EXISTS ( SELECT 1\n   FROM metrics\n  WHERE ((metric_results.metric_id = metrics.id) AND (EXISTS ( SELECT 1\n           FROM swim_groups\n          WHERE ((swim_groups.id = metrics.group_id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))))) | (EXISTS ( SELECT 1\n   FROM metrics\n  WHERE ((metric_results.metric_id = metrics.id) AND (EXISTS ( SELECT 1\n           FROM swim_groups\n          WHERE ((swim_groups.id = metrics.group_id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))))) |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metric_results   | Coaches can delete their own metric results             | PERMISSIVE | {authenticated} | DELETE | (EXISTS ( SELECT 1\n   FROM metrics\n  WHERE ((metric_results.metric_id = metrics.id) AND (EXISTS ( SELECT 1\n           FROM swim_groups\n          WHERE ((swim_groups.id = metrics.group_id) AND (swim_groups.coach_id = ( SELECT auth.uid() AS uid)))))))) |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metric_results   | Swimmers can view their own metric results              | PERMISSIVE | {authenticated} | SELECT | (swimmer_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metric_results   | Swimmers can insert their own metric results            | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (swimmer_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                     |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metric_results   | Swimmers can update their own metric results            | PERMISSIVE | {authenticated} | UPDATE | (swimmer_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                     | (swimmer_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                     |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | metric_results   | Swimmers can delete their own metric results            | PERMISSIVE | {authenticated} | DELETE | (swimmer_id = ( SELECT auth.uid() AS uid))                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swim_groups      | Insert swim group as coach                              | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (auth.role() = 'coach'::text)                                                                                                                                                                                                                                  |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swim_groups      | Coaches can add swim groups                             | PERMISSIVE | {authenticated} | INSERT |                                                                                                                                                                                                                                                                | (coach_id = auth.uid())                                                                                                                                                                                                                                        |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| public     | swim_groups      | Coaches can update their own swim groups                | PERMISSIVE | {authenticated} | UPDATE | (coach_id = auth.uid())                                                                                                                                                                                                                                        | (coach_id = auth.uid())                                                                                                                                                                                                                                        |
|------------|------------------|---------------------------------------------------------|------------|-----------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
